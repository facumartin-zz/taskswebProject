<script type='text/javascript'>
  $(window).load(function(){
    var data = {{data|tojson}};
    var columns = {{columns|tojson}};
    $(function() {
      $('#table').bootstrapTable({
        data: data,
        columns: columns,
      });
    });
  });
</script>



columns: [
  [{
    field: 'state',
    checkbox: true,
    rowspan: 2,
    align: 'center',
    valign: 'middle'
  }, {
    title: 'Item ID',
    field: 'id',
    rowspan: 2,
    align: 'center',
    valign: 'middle',
    sortable: true,
    footerFormatter: totalTextFormatter
  }, {
    title: 'Item Detail',
    colspan: 3,
    align: 'center'
  }],
  [{
    field: 'name',
    title: 'Item Name',
    sortable: true,
    footerFormatter: totalNameFormatter,
    align: 'center'
  }, {
    field: 'price',
    title: 'Item Price',
    sortable: true,
    align: 'center',
    footerFormatter: totalPriceFormatter
  }, {
    field: 'operate',
    title: 'Item Operate',
    align: 'center',
    events: window.operateEvents,
    formatter: operateFormatter
  }]
]






function totalPriceFormatter(data) {
  var field = this.field
  return '$' + data.map(function (row) {
  //  return +row[field].substring(1)
  }).reduce(function (sum, i) {
    return sum + i
  }, 0)
}
